<div class="container">
  <!-- Part 1: Generate Form -->
  <div class="part" id="generateForm">
    <div class="card">
      <div class="card-header">
        <h2>Create New Project</h2>
      </div>
      <div class="card-body">
        <form (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="projectName">Project Name:</label>
            <input id="projectName" [(ngModel)]="projectName" name="projectName" class="form-control" required>
          </div>
          <div class="form-group mt-3">
            <label for="location">Location:</label>
            <input id="location" [(ngModel)]="location" name="location" class="form-control" required>
          </div>
          <div class="form-group mt-3">
            <label for="applicationType">Application Type:</label>
            <select id="applicationType" [(ngModel)]="applicationType" name="applicationType" class="form-control" required>
              <option value="console">Console App</option>
              <option value="webapi">ASP.NET Core Web API</option>
              <option value="classlib">Class Library</option>
              <option value="razorclasslib">Razor Class Library</option>
              <option value="worker">Worker Service</option>
              <option value="web">ASP.NET Core Empty</option>
              <option value="mvc">ASP.NET Core Web App</option>
              <option value="winforms">Windows Forms App</option>
            </select>
          </div>
          <div class="form-group mt-3">
            <label for="framework">Framework:</label>
            <select id="framework" [(ngModel)]="framework" name="framework" class="form-control" required>
              <option value=".NET 8.0">.NET 8.0</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary mt-4">Generate</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Part 2: Folder Structure -->
  <div class="part" id="folderStructure" *ngIf="folderStructure">
    <div class="mt-3">
      <div class="folder-structure-header">
        <h3>Generated Folder Structure:</h3>
      </div>
      <ul>
        <li>{{ folderStructure.name }}
          <ul>
            <!-- Iterate through files at the root level -->
            <li *ngFor="let file of folderStructure.files" class="file" (click)="displayFileContent(file.content)">
              {{ file.name }}
            </li>
            <!-- Iterate through folders at the root level -->
            <ng-container *ngFor="let folder of folderStructure.folders">
              <li>
                <span (click)="toggleFolder(folder)">{{ folder.name }}</span>
                <ul *ngIf="folder.expanded">
                  <!-- Iterate through files inside the folder -->
                  <li *ngFor="let file of folder.files" class="file" (click)="displayFileContent(file.content)">
                    {{ file.name }}
                  </li>
                  <!-- Iterate through subfolders inside the folder -->
                  <ng-container *ngFor="let subfolder of folder.folders">
                    <li>
                      <span (click)="toggleFolder(subfolder)">{{ subfolder.name }}</span>
                      <ul *ngIf="subfolder.expanded">
                        <!-- Iterate through files inside the subfolder -->
                        <li *ngFor="let subfile of subfolder.files" class="file" (click)="displayFileContent(subfile.content)">
                          {{ subfile.name }}
                        </li>
                        <!-- Further nesting can continue similarly -->
                      </ul>
                    </li>
                  </ng-container>
                </ul>
              </li>
            </ng-container>
          </ul>
        </li>
      </ul>
    </div>
  </div>

  <!-- Part 3: File Content -->
  <div class="part" id="fileContent" *ngIf="selectedFileContent !== ''">
    <div class="file-content">
      <h3>File Content:</h3>
      <pre>{{ selectedFileContent }}</pre>
    </div>
  </div>
</div>
